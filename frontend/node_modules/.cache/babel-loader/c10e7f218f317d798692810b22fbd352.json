{"ast":null,"code":"var _jsxFileName = \"/Users/jayagrawal/Documents/GitHub/Delivery4/frontend/src/Containers/StudentHome.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'; // HomePage\n\nimport HomePage from '../Components/DashboardStudent/StudentHome'; // Nav\n\nimport Nav from '../Components/NavBar';\nlet firstName = 'Jay';\nlet totalAssesment = 0;\nlet toDoAssesment = 0;\nlet missAssesment = 0;\nlet visAssesment = 0;\nlet overall = 0;\nlet completeAssesment = 0;\n\nclass StudentHome extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      logout: false,\n      evaluations: [],\n      students: []\n    };\n\n    this.onLogout = () => {\n      this.setState({\n        logout: true\n      });\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await fetch('http://127.0.0.1:8000/api/Evaluation');\n      const evaluations = await res.json();\n      this.setState({\n        evaluations\n      });\n      let studentLoggedIn = [];\n\n      if (localStorage && localStorage.getItem(\"studentLoggedIn\")) {\n        studentLoggedIn = JSON.parse(localStorage.getItem(\"studentLoggedIn\"));\n      }\n\n      console.log(studentLoggedIn.id);\n      totalAssesment = 0;\n      toDoAssesment = 0;\n      missAssesment = 0;\n      visAssesment = 0;\n      overall = 0;\n      completeAssesment = 0;\n\n      for (let i = 0; i < Object.keys(this.state.evaluations).length; i++) {\n        if (studentLoggedIn.id == this.state.evaluations[i].student) {\n          console.log('yeet on a sheep');\n          overall += this.state.evaluations[i].rating;\n\n          if (this.state.evaluations[i].completed == true) {\n            completeAssesment++;\n          } else {\n            var today = new Date();\n            var todayDate = today.getFullYear() + '-0' + (today.getMonth() + 1) + '-0' + today.getDate(); //MUST REMOVE 0's AFTER MAY 10th\n\n            if (this.state.evaluations[i].dueDate >= todayDate) {\n              console.log(this.state.evaluations[i]);\n              toDoAssesment++;\n            } else {\n              missAssesment++;\n            }\n          }\n\n          visAssesment = toDoAssesment + missAssesment;\n          totalAssesment = i;\n        }\n      }\n\n      overall = (overall / (completeAssesment + missAssesment)).toFixed(2);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return React.createElement(Nav, {\n      user: \"Student\",\n      onLogout: this.onLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(HomePage, {\n      name: firstName,\n      complete: completeAssesment,\n      total: totalAssesment,\n      todo: toDoAssesment,\n      missed: missAssesment,\n      visible: visAssesment,\n      overall: overall,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), this.state.logout === true ? React.createElement(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default StudentHome;","map":{"version":3,"sources":["/Users/jayagrawal/Documents/GitHub/Delivery4/frontend/src/Containers/StudentHome.js"],"names":["React","Component","Redirect","HomePage","Nav","firstName","totalAssesment","toDoAssesment","missAssesment","visAssesment","overall","completeAssesment","StudentHome","state","logout","evaluations","students","onLogout","setState","componentDidMount","res","fetch","json","studentLoggedIn","localStorage","getItem","JSON","parse","console","log","id","i","Object","keys","length","student","rating","completed","today","Date","todayDate","getFullYear","getMonth","getDate","dueDate","toFixed","e","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {Redirect} from 'react-router-dom'\n\n// HomePage\nimport HomePage from '../Components/DashboardStudent/StudentHome'\n\n\n// Nav\nimport Nav from '../Components/NavBar'\n\nlet firstName = 'Jay'\nlet totalAssesment=0\nlet toDoAssesment=0\nlet missAssesment=0\nlet visAssesment=0\nlet overall=0\nlet completeAssesment=0\n\nclass StudentHome extends Component{\n\n    state={\n        logout:false,\n\n        evaluations:[],\n        students:[],\n    }\n\n    async componentDidMount() {\n        try {\n            const res = await fetch('http://127.0.0.1:8000/api/Evaluation');\n            const evaluations = await res.json();\n            this.setState({\n                evaluations\n            });\n\n            let studentLoggedIn = [];\n            if(localStorage && localStorage.getItem(\"studentLoggedIn\")){\n                studentLoggedIn = JSON.parse(localStorage.getItem(\"studentLoggedIn\"));\n            }\n            console.log(studentLoggedIn.id);\n\n            totalAssesment=0\n            toDoAssesment=0\n            missAssesment=0\n            visAssesment=0\n            overall=0\n            completeAssesment=0\n\n            for (let i = 0; i < Object.keys(this.state.evaluations).length; i++){\n                if(studentLoggedIn.id == this.state.evaluations[i].student){\n                    console.log('yeet on a sheep');\n                    overall += this.state.evaluations[i].rating;\n                    if(this.state.evaluations[i].completed == true){\n                        completeAssesment++;\n                    }\n                    else{\n                        var today = new Date();\n                        var todayDate = today.getFullYear()+'-0'+(today.getMonth()+1)+'-0'+today.getDate(); //MUST REMOVE 0's AFTER MAY 10th\n\n                        if (this.state.evaluations[i].dueDate >= todayDate){\n                            console.log(this.state.evaluations[i]);\n                            toDoAssesment++;\n                        }\n                        else{\n                            missAssesment++;\n                        }\n                    }\n                    visAssesment=toDoAssesment+missAssesment;\n                    totalAssesment=i;\n                }\n            }\n            \n            overall = (overall/(completeAssesment+missAssesment)).toFixed(2);\n            \n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n    onLogout=()=>{\n        this.setState({\n            logout:true\n        })\n    }\n\n    render(){\n\n      \n        return(\n            <Nav\n                user=\"Student\"\n                onLogout={this.onLogout}\n            >\n\n                <HomePage \n                    name={firstName}\n                    complete={completeAssesment}\n                    total={totalAssesment}\n                    todo={toDoAssesment}\n                    missed={missAssesment}\n                    visible={visAssesment}\n                    overall={overall}\n                />\n\n            {this.state.logout===true?<Redirect to='/login' />:null}\n\n            </Nav>\n        )\n    }\n}\n\nexport default StudentHome"]},"metadata":{},"sourceType":"module"}
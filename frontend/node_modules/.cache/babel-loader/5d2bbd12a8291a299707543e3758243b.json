{"ast":null,"code":"var _jsxFileName = \"/Users/jayagrawal/Documents/GitHub/Delivery4/frontend/src/Containers/Completed.js\";\nimport React, { Component } from 'react';\nimport Moment from 'moment'; // HomePage\n\nimport Assesments from '../Components/DashboardStudent/Completed'; // Nav\n\nimport Nav from '../Components/NavBar';\nimport { Redirect } from 'react-router-dom';\nconst assesmentsCompleted = [\n/*{\n    name:'Delivery 1 Assesments',\n    dueDate:  Moment(new Date()).subtract(30, 'days').calendar(),\n    overAll: 3,\n    teachersComment:'Do you even code brah?'\n},\n{\n    name:'Delivery 2 Assesments',\n    dueDate:  Moment(new Date()).subtract(20, 'days').calendar(),\n    overAll: 3,\n    teachersComment:'When are you dropping?'\n},\n{\n    name:'Delivery 3 Assesments',\n    dueDate:  Moment(new Date()).subtract(15, 'days').calendar(),\n    overAll: 3,\n    teachersComment:'Thoughts on millitary school?'\n},*/\n{\n  evaluation_name: 'Delivery 4 Assesments',\n  dueDate: Moment(new Date()).subtract(25, 'days').calendar(),\n  rating: 2,\n  comment: 'You gucci?'\n}];\nlet studentLoggedIn = [];\n\nclass StudentHome extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      evaluations: []\n    };\n\n    this.editModalHandler = e => {\n      if (assesmentsCompleted[e].student == studentLoggedIn.id) {\n        fetch(\"http://127.0.0.1:8000/api/Evaluation/\", {\n          method: \"post\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            evaluation_name: assesmentsCompleted[e].evaluation_name,\n            rating: 0,\n            comment: assesmentsCompleted[e].comment,\n            dueDate: assesmentsCompleted[e].dueDate,\n            completed: false,\n            student: assesmentsCompleted[e].student,\n            teamMembers: assesmentsCompleted[e].teamMembers\n          })\n        });\n        fetch(\"http://127.0.0.1:8000/api/Evaluation/\" + assesmentsCompleted[e].id, {\n          method: 'DELETE'\n        });\n        console.log('deleted');\n      }\n    };\n\n    this.onLogout = () => {\n      console.log('here');\n      this.setState({\n        logout: true\n      });\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await fetch('http://127.0.0.1:8000/api/Evaluation');\n      const evaluations = await res.json();\n      this.setState({\n        evaluations\n      });\n\n      if (localStorage && localStorage.getItem(\"studentLoggedIn\")) {\n        studentLoggedIn = JSON.parse(localStorage.getItem(\"studentLoggedIn\"));\n      }\n\n      for (let i = 0; i < Object.keys(this.state.evaluations).length; i++) {\n        if (studentLoggedIn.id == this.state.evaluations[i].student) {\n          if (this.state.evaluations[i].completed == true) {\n            if (assesmentsCompleted.some(temp => temp.id === this.state.evaluations[i].id)) {} else {\n              assesmentsCompleted.push(this.state.evaluations[i]);\n            }\n          }\n        }\n      }\n\n      assesmentsCompleted.shift();\n      assesmentsCompleted.sort((a, b) => a.dueDate > b.dueDate ? 1 : -1);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return React.createElement(Nav, {\n      user: \"Student\",\n      onLogout: this.onLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Assesments, {\n      completedArr: assesmentsCompleted,\n      editModal: this.editModalHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), this.state.logout === true ? React.createElement(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default StudentHome;","map":{"version":3,"sources":["/Users/jayagrawal/Documents/GitHub/Delivery4/frontend/src/Containers/Completed.js"],"names":["React","Component","Moment","Assesments","Nav","Redirect","assesmentsCompleted","evaluation_name","dueDate","Date","subtract","calendar","rating","comment","studentLoggedIn","StudentHome","state","evaluations","editModalHandler","e","student","id","fetch","method","headers","Accept","body","JSON","stringify","completed","teamMembers","console","log","onLogout","setState","logout","componentDidMount","res","json","localStorage","getItem","parse","i","Object","keys","length","some","temp","push","shift","sort","a","b","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Moment from 'moment'\n\n// HomePage\nimport Assesments from '../Components/DashboardStudent/Completed'\n\n\n\n// Nav\nimport Nav from '../Components/NavBar'\n\nimport {Redirect} from 'react-router-dom'\n\n\n\nconst assesmentsCompleted=[\n    /*{\n        name:'Delivery 1 Assesments',\n        dueDate:  Moment(new Date()).subtract(30, 'days').calendar(),\n        overAll: 3,\n        teachersComment:'Do you even code brah?'\n    },\n    {\n        name:'Delivery 2 Assesments',\n        dueDate:  Moment(new Date()).subtract(20, 'days').calendar(),\n        overAll: 3,\n        teachersComment:'When are you dropping?'\n    },\n    {\n        name:'Delivery 3 Assesments',\n        dueDate:  Moment(new Date()).subtract(15, 'days').calendar(),\n        overAll: 3,\n        teachersComment:'Thoughts on millitary school?'\n    },*/\n    {\n        evaluation_name:'Delivery 4 Assesments',\n        dueDate:  Moment(new Date()).subtract(25, 'days').calendar(),\n        rating: 2,\n        comment:'You gucci?'\n    }\n]\n\nlet studentLoggedIn = [];\n\nclass StudentHome extends Component{\n\n    state={\n        evaluations:[],\n    }\n\n    async componentDidMount() {\n        try {\n            const res = await fetch('http://127.0.0.1:8000/api/Evaluation');\n            const evaluations = await res.json();\n            this.setState({\n                evaluations\n            });\n\n            \n            if(localStorage && localStorage.getItem(\"studentLoggedIn\")){\n                studentLoggedIn = JSON.parse(localStorage.getItem(\"studentLoggedIn\"));\n            }\n\n            for (let i = 0; i < Object.keys(this.state.evaluations).length; i++){\n                if(studentLoggedIn.id == this.state.evaluations[i].student){\n                    if (this.state.evaluations[i].completed == true){\n                        if(assesmentsCompleted.some(temp => temp.id === this.state.evaluations[i].id)){}  \n                            else{assesmentsCompleted.push(this.state.evaluations[i]);}\n                    }\n                }\n            }\n            assesmentsCompleted.shift();\n            assesmentsCompleted.sort((a, b) => (a.dueDate > b.dueDate) ? 1 : -1);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n    editModalHandler = e => {\n        if(assesmentsCompleted[e].student == studentLoggedIn.id){\n            fetch(\"http://127.0.0.1:8000/api/Evaluation/\", {\n            method: \"post\",\n            headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n            },\n                body: JSON.stringify({\n                evaluation_name: assesmentsCompleted[e].evaluation_name,\n                rating: 0,\n                comment: assesmentsCompleted[e].comment,\n                dueDate: assesmentsCompleted[e].dueDate,\n                completed: false,\n                student: assesmentsCompleted[e].student,\n                teamMembers: assesmentsCompleted[e].teamMembers,\n                })\n            });\n            fetch(\"http://127.0.0.1:8000/api/Evaluation/\" + assesmentsCompleted[e].id, {\n                method: 'DELETE',\n            });\n            console.log('deleted');\n        }\n    };\n\n    onLogout=()=>{\n        console.log('here')\n        this.setState({\n            logout:true\n        })\n    }\n    render(){\n\n      \n        return(\n            <Nav\n                user=\"Student\"\n                onLogout={this.onLogout}\n\n            >\n                <Assesments\n                completedArr={assesmentsCompleted}\n                editModal={this.editModalHandler}\n                />\n\n            {this.state.logout===true?<Redirect to='/login' />:null}\n            \n\n            </Nav>\n        )\n    }\n}\n\nexport default StudentHome"]},"metadata":{},"sourceType":"module"}